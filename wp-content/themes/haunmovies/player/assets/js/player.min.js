function getURLParameterValues(e,a){a=a||window.location.href,e=e.replace(/[\[\]]/g,"\\><");a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(a);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}var $=jQuery.noConflict();function halimPlayer(e,a,l,i,t,o){return $("#ajax-player").length&&$.ajax({url:halim_cfg.player_url,dataType:"html",data:{episode_slug:e,server_id:a,subsv_id:t,post_id:l,nonce:i,custom_var:o},beforeSend:function(){$("#halim-player-loader").show().html('<p style="margin-top: 15px">'+halim_cfg.player_loading+"</p>")},success:function(e){e=JSON.parse(e).data;1==e.status&&(localStorage.removeItem("reSizePlayerObject"),$("#ajax-player").html(e.sources),$("#playerLoadingModal").modal("hide"),$("#icon-rebuild-player").removeClass("animate-spin"),$("#halim-player-loader").hide())},error:function(e,a,l){console.log(e.status+" "+l)}}),!1}function halimJwConfig(e){e.on("ready",function(){is_Mobile()||halimJwAddButton(e),$("#halim-player-loader").hide()}),e.on("error",function(){var e;"display_modal"==halim_cfg.player_error_detect?halimPlayerErrorDetect():"autoload_server"==halim_cfg.player_error_detect?(e=svlists[Math.floor(Math.random()*svlists.length)],$("#server-item-"+e).click()):$.fn.customErrorHandler||customErrorHandler(),1==halim_cfg.auto_reset_cache&&halimPlayerResetCache($(".halim-btn.active").data("episode-slug"),$(".halim-btn.active").data("server"),$(".halim-btn.active").data("post-id"))}),e.on("play",function(){jQuery("#reLoadPlayerModal").modal("hide")}),e.on("complete",function(){halimPlayerAutoNext()})}function halimJwAddButton(e){var a=e.getContainer(),l=$("<div></div>").addClass("jw-icon jw-icon-inline jw-button-color jw-reset halim-toggle-light halim-icon-toggle-light").append($("<div></div>").addClass("player-tooltip").html("Toggle Light")),e=$("<div></div>").addClass("jw-icon jw-icon-inline jw-button-color jw-reset halim-resize-bar halim-icon-expand size-small").append($("<div></div>").addClass("player-tooltip").html("Resize Player"));$(a).find(".jw-icon-fullscreen").before(e).before(l)}function halimPlayerResetCache(e,a,l){return $.ajax({url:ajax_player.url,type:"POST",data:{action:"reset_player_cache",episode_slug:e,server_id:a,post_id:l},success:function(e){console.log(e)}}),!1}function halimPlayerErrorDetect(){var e="";0==$("#halim-ajax-list-server").length&&(e=' style="display:none;"'),e='<div id="reLoadPlayerModal" class="modal fade" role="dialog" style="top: 35px;z-index: 99999;">  <div class="modal-dialog modal-md">    <div class="modal-content">        <div class="modal-header">            <button type="button" class="close" data-dismiss="modal">Ã—</button>            <h4 class="modal-title adult-content-title">(Error&nbsp;Code:&nbsp;224003)</h4>        </div>        <div class="modal-body panel-body adult-content-info text-center">            <h4><strong>'+halim_cfg.jw_error_msg_1+"</strong></h4>            <p>"+halim_cfg.jw_error_msg_0+"</p>            <p>"+halim_cfg.jw_error_msg_2+'</p>            <button type="button" class="btn btn-danger" id="reBuildPlayer" style="margin-bottom: 5px;"><i id="icon-rebuild-player" class="hl-spin4"></i> '+halim_cfg.player_reload+"</button>            <p"+e+">"+halim_cfg.jw_error_msg_3+'</p>            <div id="serverList"></div>        </div>    </div>  </div></div>',is_Mobile()?$("body").append(e):($("#halim-player-wrapper").append(e),$("#halim-player-loader").css("z-index","999999")),$("#halim-ajax-list-server").prependTo("#serverList"),$("#reLoadPlayerModal").modal("show"),is_Mobile()||$(".modal-backdrop").appendTo("#halim-player-wrapper"),$("body").removeClass("modal-open"),$("body").css("padding-right",""),$(".modal, .modal-backdrop").css("position","absolute"),$("#reLoadPlayerModal").on("hidden.bs.modal",function(){$("#halim-ajax-list-server").prependTo(".halim-ajax-list-server")})}function halimPlayerAutoNext(){var e,a,l;"On"==$("#autonext-status").text()&&"last"!=$(".halim-list-eps").find(".active").data("position")&&(e=1<halim_cfg.server?$(".halim-episode-"+halim_cfg.server+"-"+halim_cfg.episode_slug+".active").next().find("span").data("href"):$(".halim-episode-"+halim_cfg.server+"-"+halim_cfg.episode_slug+".active").next().find("a").attr("href"),$(".halim-episode-"+halim_cfg.server+"-"+halim_cfg.episode_slug+".active").removeClass("active").find("a span").removeClass("active"),$(".halim-episode-"+halim_cfg.server+"-"+halim_cfg.episode_slug).next().addClass("active").find("a span").addClass("active"),a=5,l=setInterval(function(){--a<=0?(clearInterval(l),window.location=e):$("#halim-player-loader").show().html('<p style="padding-top:25px;">'+halim_cfg.player_autonext+" <span>["+a+"s]</span></p>")},1e3))}function halimExpandPlayer(){resizeCheck="small",playerWrapper=$("#halim-player-wrapper"),playersize=JSON.parse(localStorage.getItem("reSizePlayerObject")),null==playersize&&(playersize={width:810,height:456}),$(document).on("click","#explayer, .halim-resize-bar",function(){var e;$(".halim-resize-bar").toggleClass("size-large"),resizeCheck="small"==resizeCheck?(e=1140/playersize.width,e=playersize.height*e,e={width:1140,height:Math.ceil(e)},$("#explayer").offset().top,$(playerWrapper).animate({width:e.width,height:e.height}),$("#sidebar").animate({marginTop:e.height+20}),$("#explayer").html('<i class="hl-resize-small"></i> '+halim_cfg.collapse),"large"):($(playerWrapper).animate({width:playersize.width,height:playersize.height}),$("#sidebar").animate({marginTop:"0px"}),$("#explayer").html('<i class="hl-resize-full"></i> '+halim_cfg.expand),"small"),$("html, body").animate({scrollTop:$(playerWrapper).offset().top-63},1e3)})}function halimResizePlayerFullWidth(){resizeCheck="small",$(document).on("click","#explayer, .halim-resize-bar",function(){$(".halim-resize-bar").toggleClass("size-large");var e=$("#ajax-player");resizeCheck="small"==resizeCheck?($(".halim-full-player").removeClass("hidden"),e.removeClass("player").prependTo("#halim-full-player"),$("#halim-player-wrapper").addClass("hidden"),$(".navbar-container").addClass("box-shadow-none"),$("#explayer").html('<i class="hl-resize-small"></i> '+halim_cfg.collapse),"large"):($(".halim-full-player").addClass("hidden"),e.addClass("player").prependTo("#halim-player-wrapper"),$("#halim-player-wrapper").removeClass("hidden"),$(".navbar-container").removeClass("box-shadow-none"),$("#explayer").html('<i class="hl-resize-full"></i> '+halim_cfg.expand),"small")})}function halimResumeVideo(l,i){1==halim_cfg.resume_playback&&i.on("ready",function(){var e,a;"undefined"!=typeof Storage?(e="HaLimPlayerPosition-"+l,""==localStorage[e]||"undefined"==localStorage[e]?(console.log("No cookie for position found"),a=0):("null"==localStorage[e]?localStorage[e]=0:a=localStorage[e],console.log("Position cookie found: "+localStorage[e])),i.once("play",function(){console.log("Checking position cookie!"),console.log(Math.abs(i.getDuration()-a)),0<a&&5<Math.abs(i.getDuration()-a)&&(i.seek(a),$("body").append('<div class="modal fade" id="resume" tabindex="-1" role="dialog" aria-labelledby="mobileModalLabel" aria-hidden="true" style="z-index: 99999;"><div id="resumeModal" class="modal-dialog modal-sm" style="position:relative;background: #fff;border: 1px solid #eee;padding: 20px 13px;text-align: center;border-radius: 5px;"><p>'+halim_cfg.resume_text+': <b style="color:#f52121;">'+formatSeconds(a)+'</b></p><div style="text-align:center;"><strong class="yes"><i class="hl-ccw"></i> '+halim_cfg.playback+'</strong><strong class="no"><i class="hl-play-circled-o"></i> '+halim_cfg.continue_watching+"</strong></div></div></div>"),setTimeout(function(){$("#resume").modal("show")},800),$("body").on("click",".no",function(){$("#resume").modal("hide"),i.play()}),$("body").on("click",".yes",function(){$("#resume").modal("hide"),localStorage[e]=0,i.seek(0),i.play()}))}),window.onunload=function(){localStorage[e]=i.getPosition()}):console.log("Your browser is too old!")})}function formatSeconds(e){var a=new Date(1970,0,1);return a.setSeconds(e),a.toTimeString().replace(/.*(\d{2}:\d{2}:\d{2}).*/,"$1")}function ToggleLight(){var e=!1;$(".button-watch, #halim-full-player").css("position","relative").css("z-index",8),$(document).on("click","#toggle-light, .halim-toggle-light",function(){e?(e=!1,$("#lightout").fadeOut()):(e=!0,$("#lightout").css("opacity",.98).hide().fadeIn()),$("#toggle-light").html(e?"<i class='hl-light-up'></i> "+halim_cfg.light_on:"<i class='hl-adjust'></i> "+halim_cfg.light_off)})}jQuery(document).ready(function(t){var e,a,l,i,o;t("#ajax-player").length&&(null==(e=getURLParameterValues("svid"))?halimPlayer(halim_cfg.episode_slug,halim_cfg.server,halim_cfg.post_id,t("body").data("nonce"),"",halim_cfg.custom_var):(a=t(".halim-btn.active").data("episode-slug"),l=t(".halim-btn.active").data("server"),i=t(".halim-btn.active").data("post-id"),o=e,"undefined"!=typeof playerInstance&&playerInstance.pause(),t("#server-item-"+e).addClass("active").siblings().removeClass("active"),t("#halim-player-wrapper").css("z-index","99999"),t("button.close").click(),halimPlayer(a,l,i,"",o,halim_cfg.custom_var)),setTimeout(function(){1==t(document).find(".halim-btn.active").data("embed")?t("#autonext").hide():t("#autonext").show()},2e3)),t("body").on("click",".play-listsv",function(){var e=t(".halim-btn.active").data("episode-slug"),a=t(".halim-btn.active").data("server"),l=t(".halim-btn.active").data("post-id"),i=t(this).data("subsv-id");"undefined"!=typeof playerInstance&&playerInstance.pause(),t(this).addClass("active").siblings().removeClass("active"),t("#halim-player-wrapper").css("z-index","99999"),t("#halim-player-loader").show().css("position","absolute"),t("button.close").click(),halimPlayer(e,a,l,"",i,halim_cfg.custom_var)}),t("#autonext").on("click",function(){"On"==t("#autonext-status").text()?t("#autonext-status").text("Off"):t("#autonext-status").text("On")}),t("body").on("click","#reBuildPlayer",function(){var e=t(".halim-btn.active").data("episode-slug"),a=t(".halim-btn.active").data("server"),l=t(".halim-btn.active").data("post-id");t("#halim-player-wrapper").css("z-index","99999"),t("#icon-rebuild-player").addClass("animate-spin"),t("button.close").click(),t("#halim-player-loader").show().css("position","absolute"),halimPlayerResetCache(e,a,l),halimPlayer(e,a,l,"","",halim_cfg.custom_var),console.log("Player has been reloaded!")}),halimExpandPlayer(),ToggleLight()});